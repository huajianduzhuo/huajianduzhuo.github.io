---
title: 移动端内容简介
date: 2017-07-07 21:02:11
tags: [移动端事件, 视口]
categories: 移动端
---

编写移动端页面与编写电脑版网页的方式有一些不同，本文将移动端页面的内容进行了总结，主要包括三个视口、物理像素与像素比、移动端事件等内容。
 
学习移动端过程中做的两个项目：音悦台 和 懒加载相册
GitHub地址：[https://github.com/huajianduzhuo/mobile-project](https://github.com/huajianduzhuo/mobile-project)。

<!--more-->

# 像素

## 屏幕相关概念

**屏幕尺寸**

指屏幕的对角线的长度，单位是英寸，1英寸=2.54厘米。
> 常见的屏幕尺寸有2.4、2.8、3.5、3.7、4.2、5.0、5.5、6.0等。

**屏幕分辨率**

指在横纵向上的像素点数，单位是px，1px=1个像素点。
一般以 纵向像素 \* 横向像素 来表示一个手机的分辨率。如 iphone6 的分辨率是 750*1334。（这里的1像素指的是物理设备的1个像素点）

**屏幕像素密度/像素密度/屏幕密度**

屏幕上每英寸可以显示的像素点的数量，单位是ppi，即“pixels per inch”的缩写。

> 屏幕像素密度与屏幕尺寸和屏幕分辨率有关

## 像素

移动端中的像素具有几种不同的概念，如物理像素、CSS像素、设备独立像素。

### 物理像素/设备像素

　　手机分辨率（n x m）指的是手机横纵向上的像素点数，一个点（小方格）为一个物理像素，它是屏幕能显示的最小粒度。
　　设备像素也被称为物理像素，他是显示设备中一个最微小的物理部件。每个像素可以根据操作系统设置自己的颜色和亮度。
　　任何设备的物理像素的数量都是固定的。

### CSS像素

　　CSS像素是一个抽象的单位，主要使用在浏览器上，用来精确的度量（确定）Web页面上的内容。它是为web开发者创造的，在css或者javascript中使用的一个抽象的层。
　　一般情况下，CSS像素被称为与设备无关的像素（device-independent像素），简称为“DIPs”。
　　在一个标准的显示密度下(普通屏)，一个CSS像素对应着一个设备像素。

> 作为开发者，我们使用的每一个css和javascript定义的像素本质上代表的都是css像素，我们在开发过程中，并不在意一个css像素到底跨越了多少个设备像素。我们将这个依赖于屏幕特性和用户缩放程度的复杂计算交给了浏览器。

### css像素与物理像素的关系

　　定义一个 width 为 200px 的元素，它占据了200个 css像素，但200个 css像素占据多少个物理像素取决于屏幕的特性（是否是高密度,即像素比）和用户的缩放行为。
　　在 iPhone6 的视网膜屏幕上，视网膜的像素密度是普通屏幕的两倍，这个元素就跨越了400个物理像素。如果用户放大，它将跨越更多的物理像素。

### 设备独立像素

　　设备独立像素(也叫密度无关像素)，可以认为是计算机坐标系统中得一个点，这个点代表一个可以由程序使用的虚拟像素(比如: css像素)，然后由相关系统转换为物理像素。

### 位图像素

　　一个位图的像素是栅格图像(如：png, jpg, gif等)最小的数据单元。1个位图像素对应于1个物理像素，图片才能得到完美清晰的展示。

## 像素比

设备物理像素和设备独立像素的比例。

    window.devicePixelRatio = 物理像素 /独立像素

# 视口

## 布局视口

布局视口（layout viewport）是指用于 CSS 布局的一块区域。
> 在 PC 端，横向布局默认是根据初始包含块决定，如设置一个块级元素的宽度为 20%，则该元素的宽度为初始包含块的宽度的 20%。在移动端，由布局视口代替初始包含块的作用。

　　布局视口的概念，在极大程度上帮助了桌面网站到移动设备上的转移。大部分手机浏览器的默认布局视口大小为 980px，默认情况下，布局视口占满手机浏览器屏幕，除非页面中有块级元素的宽度大于这个值，则该元素的宽度会占满屏幕，而布局视口的宽度则会小于屏幕的宽度（此处所说的宽度均指css像素宽度，物理像素由手机品牌决定，不会改变）。

　　可以通过 document.documentElement.clientWidth 来获取布局视口的大小。

## 视觉视口

　　视觉视口（visual viewport）与设备屏幕一样宽，并且它的 css 像素的数量会随用户的缩放而改变。
　　visual viewport的宽度可以通过 window.innerWidth 来获取，但在Android 2, Oprea mini 和 UC 8中无法正确获取。

## 理想视口

